# 単語判定

## 仕様

A. 文字キュー(ひらがな10個程度の配列)
B. 単語リスト(ひらがなで構成される単語の文字列2048個程度の配列)

がある。

Aにある文字を組み合わせてBの単語が作れる状態を『ヒット』という。
ヒットに1文字足りない状態を『リーチ』という。

この比較の際にひらがなは濁点、半濁点、小文字を区別せず、伸ばし棒は無視する。
つまりAに「す」「こ」「ふ」の文字があればBの「すこっぷ」にも「すこーぷ」もヒットする。

BlockManagerは
* ヒットする単語した単語をリストアップするメソッド
* リーチ状態の単語と足りない文字をリストアップするメソッド
を提供する。

## アルゴリズム

### 文字マッピング

ひらがなそれぞれを0からK-1の数字にマッピングする。
この時濁点や半濁点、小文字は区別しない
あ=0,い=1,う=2,え=3,お=4,か=5
ぁ=0,が=5

### ビット列化

単語リストを長さKのビット列にする
「いえ」の場合は「い」「え」のインデックスに1が立つ。
いえ:[0,1,0,1,0...]

このビット列は保持しておく。

### ビット列による粗抽出処理

処理の高速化のため、ビット列のAND演算で「文字の出現回数は問わない比較」を行う
Aが[い,た]でもBの「いたい」にヒットする。

引数によって何文字違いまで許容するかを制御する。

### 粗抽出処理の結果を厳密比較
粗抽出した結果を使い、文字の出現回数まで含めた厳密比較を行う。
リーチを調べる際は、足りない文字がなんであるかも調べる。
